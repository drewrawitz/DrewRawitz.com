!function(e){e.fn.lightBox=function(t){function i(){return a(this,x),!1}function a(i,a){if(e("embed, object, select").css({visibility:"hidden"}),n(),t.imageArray.length=0,t.activeImage=0,1==a.length)t.imageArray.push(new Array(i.getAttribute("href"),i.getAttribute("title")));else for(var g=0;g<a.length;g++)t.imageArray.push(new Array(a[g].getAttribute("href"),a[g].getAttribute("title")));for(;t.imageArray[t.activeImage][0]!=i.getAttribute("href");)t.activeImage++;o()}function n(){e("body").append('<div id="jquery-overlay"></div><div id="jquery-lightbox"><div id="lightbox-container-image-box"><div id="lightbox-container-image"><img id="lightbox-image"><div style="" id="lightbox-nav"><a href="#" id="lightbox-nav-btnPrev"></a><a href="#" id="lightbox-nav-btnNext"></a></div><div id="lightbox-loading"><a href="#" id="lightbox-loading-link"><img src="'+t.imageLoading+'"></a></div></div></div><div id="lightbox-container-image-data-box"><div id="lightbox-container-image-data"><div id="lightbox-image-details"><span id="lightbox-image-details-caption"></span><span id="lightbox-image-details-currentNumber"></span></div><div id="lightbox-secNav"><a href="#" id="lightbox-secNav-btnClose"><img src="'+t.imageBtnClose+'"></a></div></div></div></div>');var i=b();e("#jquery-overlay").css({backgroundColor:t.overlayBgColor,opacity:t.overlayOpacity,width:i[0],height:i[1]}).fadeIn();var a=v();e("#jquery-lightbox").css({top:a[1]+i[3]/10,left:a[0]}).show(),e("#jquery-overlay,#jquery-lightbox").click(function(){u()}),e("#lightbox-loading-link,#lightbox-secNav-btnClose").click(function(){return u(),!1}),e(window).resize(function(){var t=b();e("#jquery-overlay").css({width:t[0],height:t[1]});var i=v();e("#jquery-lightbox").css({top:i[1]+t[3]/10,left:i[0]})})}function o(){e("#lightbox-loading").show(),t.fixedNavigation?e("#lightbox-image,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide():e("#lightbox-image,#lightbox-nav,#lightbox-nav-btnPrev,#lightbox-nav-btnNext,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide();var i=new Image;i.onload=function(){e("#lightbox-image").attr("src",t.imageArray[t.activeImage][0]),g(i.width,i.height),i.onload=function(){}},i.src=t.imageArray[t.activeImage][0]}function g(i,a){var n=e("#lightbox-container-image-box").width(),o=e("#lightbox-container-image-box").height(),g=i+2*t.containerBorderSize,c=a+2*t.containerBorderSize,l=n-g,d=o-c;e("#lightbox-container-image-box").animate({width:g,height:c},t.containerResizeSpeed,function(){r()}),0==l&&0==d&&f(e.browser.msie?250:100),e("#lightbox-container-image-data-box").css({width:i}),e("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({height:a+2*t.containerBorderSize})}function r(){e("#lightbox-loading").hide(),e("#lightbox-image").fadeIn(function(){c(),l()}),h()}function c(){e("#lightbox-container-image-data-box").slideDown("fast"),e("#lightbox-image-details-caption").hide(),t.imageArray[t.activeImage][1]&&e("#lightbox-image-details-caption").html(t.imageArray[t.activeImage][1]).show(),t.imageArray.length>1&&e("#lightbox-image-details-currentNumber").html(t.txtImage+" "+(t.activeImage+1)+" "+t.txtOf+" "+t.imageArray.length).show()}function l(){e("#lightbox-nav").show(),e("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({background:"transparent url("+t.imageBlank+") no-repeat"}),0!=t.activeImage&&(t.fixedNavigation?e("#lightbox-nav-btnPrev").css({background:"url("+t.imageBtnPrev+") left 15% no-repeat"}).unbind().bind("click",function(){return t.activeImage=t.activeImage-1,o(),!1}):e("#lightbox-nav-btnPrev").unbind().hover(function(){e(this).css({background:"url("+t.imageBtnPrev+") left 15% no-repeat"})},function(){e(this).css({background:"transparent url("+t.imageBlank+") no-repeat"})}).show().bind("click",function(){return t.activeImage=t.activeImage-1,o(),!1})),t.activeImage!=t.imageArray.length-1&&(t.fixedNavigation?e("#lightbox-nav-btnNext").css({background:"url("+t.imageBtnNext+") right 15% no-repeat"}).unbind().bind("click",function(){return t.activeImage=t.activeImage+1,o(),!1}):e("#lightbox-nav-btnNext").unbind().hover(function(){e(this).css({background:"url("+t.imageBtnNext+") right 15% no-repeat"})},function(){e(this).css({background:"transparent url("+t.imageBlank+") no-repeat"})}).show().bind("click",function(){return t.activeImage=t.activeImage+1,o(),!1})),d()}function d(){e(document).keydown(function(e){s(e)})}function m(){e(document).unbind()}function s(e){null==e?(keycode=event.keyCode,escapeKey=27):(keycode=e.keyCode,escapeKey=e.DOM_VK_ESCAPE),key=String.fromCharCode(keycode).toLowerCase(),(key==t.keyToClose||"x"==key||keycode==escapeKey)&&u(),(key==t.keyToPrev||37==keycode)&&0!=t.activeImage&&(t.activeImage=t.activeImage-1,o(),m()),(key==t.keyToNext||39==keycode)&&t.activeImage!=t.imageArray.length-1&&(t.activeImage=t.activeImage+1,o(),m())}function h(){t.imageArray.length-1>t.activeImage&&(objNext=new Image,objNext.src=t.imageArray[t.activeImage+1][0]),t.activeImage>0&&(objPrev=new Image,objPrev.src=t.imageArray[t.activeImage-1][0])}function u(){e("#jquery-lightbox").remove(),e("#jquery-overlay").fadeOut(function(){e("#jquery-overlay").remove()}),e("embed, object, select").css({visibility:"visible"})}function b(){var e,t;window.innerHeight&&window.scrollMaxY?(e=window.innerWidth+window.scrollMaxX,t=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(e=document.body.scrollWidth,t=document.body.scrollHeight):(e=document.body.offsetWidth,t=document.body.offsetHeight);var i,a;return self.innerHeight?(i=document.documentElement.clientWidth?document.documentElement.clientWidth:self.innerWidth,a=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(i=document.documentElement.clientWidth,a=document.documentElement.clientHeight):document.body&&(i=document.body.clientWidth,a=document.body.clientHeight),pageHeight=a>t?a:t,pageWidth=i>e?e:i,arrayPageSize=new Array(pageWidth,pageHeight,i,a)}function v(){var e,t;return self.pageYOffset?(t=self.pageYOffset,e=self.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(t=document.documentElement.scrollTop,e=document.documentElement.scrollLeft):document.body&&(t=document.body.scrollTop,e=document.body.scrollLeft),arrayPageScroll=new Array(e,t)}function f(e){var t=new Date;i=null;do var i=new Date;while(e>i-t)}t=jQuery.extend({overlayBgColor:"#000",overlayOpacity:.8,fixedNavigation:!1,imageLoading:"http://img607.imageshack.us/img607/7060/lightboxicoloading.gif",imageBtnPrev:"http://img713.imageshack.us/img713/1201/lightboxbtnprev.gif",imageBtnNext:"http://img17.imageshack.us/img17/6633/lightboxbtnnext.gif",imageBtnClose:"http://img715.imageshack.us/img715/5440/lightboxbtnclose.gif",imageBlank:"http://img84.imageshack.us/img84/3486/lightboxblank.gif",containerBorderSize:10,containerResizeSpeed:400,txtImage:"Image",txtOf:"of",keyToClose:"c",keyToPrev:"p",keyToNext:"n",imageArray:[],activeImage:0},t);var x=this;return this.unbind("click").click(i)}}(jQuery);var lastId,topMenu=$("nav"),topMenuHeight=topMenu.outerHeight()+0,menuItems=topMenu.find("a"),scrollItems=menuItems.map(function(){var e=$($(this).attr("data-target"));return e.length?e:void 0});menuItems=menuItems.add(".main-content a[data-target]"),menuItems=menuItems.add(".sidebar a[data-target]"),menuItems.click(function(e){var t=$(this).attr("data-target"),i="#"===t?0:$(t).offset().top-(topMenu.outerHeight()-150)+1;$("html, body").stop().animate({scrollTop:i},800),e.preventDefault()}),$(window).scroll(function(){var e=$(this).scrollTop()+topMenuHeight+1,t=scrollItems.map(function(){return $(this).offset().top<e?this:void 0});t=t[t.length-1];var i=t&&t.length?t[0].id:"";lastId!==i&&(lastId=i,menuItems.parent().removeClass("active").end().filter("[data-target=#"+i+"]").parent().addClass("active"))}),$(document).ready(function(){function e(){return $.ajax({url:"scripts/instagram/random.php",type:"POST"})}function t(e){e.success(function(e){var t="";jQuery.each(e,function(e,i){t+='<li><a href="assets/images/instagram/'+i+'" rel="lightbox"><img src="assets/images/instagram/thumbs/'+i+'" width="60" height="60"></a></li>'}),$(t).hide().appendTo(".instagram-feed").fadeIn(1e3),$(".ig-reload").removeClass("animate-spin"),$("[rel=lightbox]").lightBox({imageLoading:"assets/images/lightbox/lightbox-ico-loading.gif",imageBtnClose:"assets/images/lightbox/lightbox-btn-close.gif",imageBtnPrev:"assets/images/lightbox/lightbox-btn-prev.gif",imageBtnNext:"assets/images/lightbox/lightbox-btn-next.gif"})})}var i=e();t(i),$(".ig-reload").on("click",function(){$(this).addClass("animate-spin"),$(".instagram-feed").html(""),t(e())})});